<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>QUREO for YS</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* CSS Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            font-size: 16px;
            -webkit-text-size-adjust: 100%;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
            color: #2d3748;
            min-height: 100vh;
            line-height: 1.5;
            overflow-x: hidden;
            padding-bottom: 70px; /* مساحة للتنقل السفلي */
        }

        /* Header - محسن للموبايل */
        .header {
            background: linear-gradient(135deg, #5e35b1, #4527a0);
            color: white;
            padding: 16px 20px;
            position: fixed;
            top: 0;
            right: 0;
            left: 0;
            z-index: 1000;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-icon {
            background: rgba(255, 255, 255, 0.2);
            width: 36px;
            height: 36px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .logo-text h1 {
            font-size: 18px;
            font-weight: 800;
            margin: 0;
            line-height: 1.2;
        }

        .logo-text p {
            font-size: 11px;
            opacity: 0.9;
            margin: 0;
        }

        .hamburger {
            background: rgba(255, 255, 255, 0.15);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .hamburger:active {
            transform: scale(0.95);
            background: rgba(255, 255, 255, 0.25);
        }

        /* Main Content - محسن للمسافات */
        .main-content {
            padding-top: 80px; /* مسافة تحت الهيدر الثابت */
            padding-left: 16px;
            padding-right: 16px;
        }

        /* User Profile Card - أبعاد مثالية للجوال */
        .user-profile-card {
            background: white;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            display: flex;
            align-items: center;
            gap: 15px;
            animation: slideIn 0.4s ease-out;
        }

        .avatar {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #5e35b1, #ff4081);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 22px;
            font-weight: bold;
            flex-shrink: 0;
            box-shadow: 0 4px 12px rgba(94, 53, 177, 0.25);
        }

        .user-details {
            flex: 1;
            min-width: 0; /* لمنع التمدد */
        }

        .user-name {
            font-size: 17px;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 4px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .user-status {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
            color: #718096;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: #00c853;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        /* Stats Grid - تخطيط شبكي للجوال */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: white;
            border-radius: 14px;
            padding: 16px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s;
        }

        .stat-card:active {
            transform: scale(0.98);
        }

        .stat-value {
            font-size: 24px;
            font-weight: 800;
            color: #5e35b1;
            margin-bottom: 4px;
            line-height: 1;
        }

        .stat-label {
            font-size: 12px;
            color: #718096;
        }

        /* Progress Section - ارتفاع مناسب */
        .progress-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            color: white;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .progress-title {
            font-size: 16px;
            font-weight: 700;
        }

        .progress-percent {
            font-size: 24px;
            font-weight: 800;
        }

        .progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 12px;
        }

        .progress-fill {
            height: 100%;
            background: white;
            width: 0;
            border-radius: 4px;
            transition: width 1s ease;
        }

        .progress-stats {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            opacity: 0.9;
        }

        /* Chapters List - عرض عمودي مثالي */
        .chapters-container {
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title i {
            color: #ff4081;
            font-size: 20px;
        }

        .chapter-card {
            background: white;
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 12px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.2s;
            position: relative;
            border: 2px solid transparent;
        }

        .chapter-card:active {
            transform: scale(0.99);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.12);
            border-color: rgba(94, 53, 177, 0.1);
        }

        .chapter-number {
            background: linear-gradient(135deg, #5e35b1, #4527a0);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: 800;
            flex-shrink: 0;
            box-shadow: 0 3px 10px rgba(94, 53, 177, 0.25);
        }

        .chapter-content {
            flex: 1;
            min-width: 0; /* لمنع التمدد */
        }

        .chapter-title {
            font-size: 16px;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 4px;
            line-height: 1.3;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .chapter-meta {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            color: #718096;
        }

        .chapter-meta i {
            font-size: 11px;
        }

        .chapter-badge {
            background: linear-gradient(135deg, #ff4081, #ff79b0);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 4px;
            box-shadow: 0 2px 8px rgba(255, 64, 129, 0.25);
            white-space: nowrap;
        }

        .chapter-arrow {
            color: #5e35b1;
            font-size: 16px;
            opacity: 0.6;
            margin-right: -4px;
        }

        /* Bottom Navigation - محسن للمس */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            right: 0;
            left: 0;
            background: white;
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            box-shadow: 0 -2px 15px rgba(0, 0, 0, 0.08);
            z-index: 1000;
            height: 70px;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #a0aec0;
            font-size: 11px;
            gap: 6px;
            padding: 8px;
            border-radius: 12px;
            transition: all 0.2s;
            min-width: 60px;
        }

        .nav-item.active {
            color: #5e35b1;
            background: rgba(94, 53, 177, 0.08);
        }

        .nav-item:active {
            transform: scale(0.95);
        }

        .nav-item i {
            font-size: 20px;
        }

        /* Loading State */
        .loading {
            text-align: center;
            padding: 40px 20px;
            color: #718096;
        }

        .loading i {
            font-size: 32px;
            margin-bottom: 16px;
            color: #5e35b1;
        }

        /* Animations */
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Safe Area for Notch Phones */
        @supports (padding-top: env(safe-area-inset-top)) {
            .header {
                padding-top: calc(16px + env(safe-area-inset-top));
                padding-bottom: 16px;
                height: calc(60px + env(safe-area-inset-top));
            }
            
            .main-content {
                padding-top: calc(80px + env(safe-area-inset-top));
            }
            
            .bottom-nav {
                padding-bottom: calc(12px + env(safe-area-inset-bottom));
                height: calc(70px + env(safe-area-inset-bottom));
            }
        }

        /* Responsive Adjustments */
        @media (min-width: 375px) {
            .main-content {
                padding-left: 20px;
                padding-right: 20px;
            }
            
            .chapter-number {
                width: 52px;
                height: 52px;
                font-size: 21px;
            }
            
            .avatar {
                width: 65px;
                height: 65px;
                font-size: 24px;
            }
        }

        @media (min-width: 414px) {
            .stats-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 16px;
            }
            
            .chapter-card {
                padding: 18px;
            }
            
            .chapter-title {
                font-size: 17px;
            }
        }

        @media (min-width: 768px) {
            .main-content {
                max-width: 700px;
                margin: 0 auto;
                padding-top: 100px;
            }
            
            .header {
                padding: 20px 40px;
                height: 70px;
            }
            
            .logo-text h1 {
                font-size: 22px;
            }
            
            .logo-text p {
                font-size: 13px;
            }
            
            .user-profile-card {
                padding: 24px;
            }
            
            .chapter-card {
                padding: 20px;
            }
            
            .chapter-card:hover {
                transform: translateY(-3px);
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
            }
            
            .chapter-card:active {
                transform: scale(0.99);
            }
            
            .bottom-nav {
                max-width: 700px;
                margin: 0 auto;
                left: 50%;
                transform: translateX(-50%);
                border-radius: 20px 20px 0 0;
                bottom: 20px;
                box-shadow: 0 -4px 25px rgba(0, 0, 0, 0.1);
            }
        }

        @media (min-width: 1024px) {
            .main-content {
                max-width: 800px;
                padding-top: 120px;
            }
        }

        /* تحسينات للأجهزة ذات الشاشات الصغيرة جداً */
        @media (max-width: 320px) {
            html {
                font-size: 15px;
            }
            
            .main-content {
                padding-left: 12px;
                padding-right: 12px;
            }
            
            .chapter-number {
                width: 46px;
                height: 46px;
                font-size: 18px;
            }
            
            .avatar {
                width: 55px;
                height: 55px;
                font-size: 20px;
            }
            
            .chapter-badge {
                font-size: 11px;
                padding: 5px 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="logo">
            <div class="logo-icon">
                <i class="fas fa-graduation-cap"></i>
            </div>
            <div class="logo-text">
                <h1>YS</h1>
                <p>منصة التعلم التفاعلي</p>
            </div>
        </div>
        <button class="hamburger" id="hamburger">
            <i class="fas fa-bars"></i>
        </button>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- User Profile -->
        <div class="user-profile-card" id="userProfile">
            <div class="avatar" id="userAvatar">
                <i class="fas fa-user"></i>
            </div>
            <div class="user-details">
                <div class="user-name" id="userName">جاري التحميل...</div>
                <div class="user-status">
                    <span class="status-dot"></span>
                    <span>نشط الآن</span>
                </div>
            </div>
        </div>

        <!-- Stats Grid -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value" id="totalChapters">41</div>
                <div class="stat-label">شابتر</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="completedChapters">28</div>
                <div class="stat-label">مكتمل</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="progressPercent">68%</div>
                <div class="stat-label">تقدمك</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="activeDays">14</div>
                <div class="stat-label">يوم نشط</div>
            </div>
        </div>

        <!-- Progress Section -->
        <div class="progress-section">
            <div class="progress-header">
                <div class="progress-title">تقدمك التعليمي</div>
                <div class="progress-percent" id="overallProgress">68%</div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-stats">
                <div>28 مكتمل</div>
                <div>8 جاري</div>
                <div>5 قادم</div>
            </div>
        </div>

        <!-- Chapters List -->
        <div class="chapters-container">
            <div class="section-title">
                <i class="fas fa-book-open"></i>
                <span>جميع الشابترات (41)</span>
            </div>
            
            <div id="chaptersList">
                <!-- Chapters will be loaded here -->
            </div>
        </div>

        <!-- Loading State -->
        <div class="loading" id="loadingState" style="display: none;">
            <i class="fas fa-spinner fa-spin"></i>
            <p>جاري تحميل الشابترات...</p>
        </div>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <div class="nav-item active">
            <i class="fas fa-home"></i>
            <span>الرئيسية</span>
        </div>
        <div class="nav-item">
            <i class="fas fa-book"></i>
            <span>الشابترات</span>
        </div>
        <div class="nav-item">
            <i class="fas fa-chart-line"></i>
            <span>التقدم</span>
        </div>
        <div class="nav-item">
            <i class="fas fa-user"></i>
            <span>حسابي</span>
        </div>
    </nav>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBSMqOOOHZmqlDTeHVqy4TMDWmhqCgq3cc",
            authDomain: "qureo-2d7af.firebaseapp.com",
            projectId: "qureo-2d7af",
            databaseURL: "https://qureo-2d7af-default-rtdb.firebaseio.com",
            storageBucket: "qureo-2d7af.firebasestorage.app",
            messagingSenderId: "401635051818",
            appId: "1:401635051818:web:4d2832cb1ea8a5d7b43653",
            measurementId: "G-G8GTDXD9HS"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // بيانات الشابترات
        const chaptersData = [
            "Introduction",
            "Calculations and Strings",
            "Variables",
            "Comprehension Check",
            "If statement",
            "If - else statements",
            "IF ELSE ",
            "Comprehension Check",
            " Logical operator",
            "Iterative operation",
            "Comprehension Check",
            "Function(1)",
            "Function(2)",
            "Comprehension Check",
            "Types",
            "Array",
            "Comprehension Check",
            "HTML(1)",
            "CSS(1)",
            "Comprehension Check",
            "Conditions (4)",
            "Looping (2)",
            "Functions (3)",
            "Comprehension Check",
            "Looping (3)",
            "الأمان والحماية",
            "تحسين الأداء",
            "الاختبار والتقييم",
            "مشروع تطبيقي - 1",
            "مشروع تطبيقي - 2",
            "التطبيقات الهجينة",
            "إدارة الحزم",
            "الأدوات والتقنيات الحديثة",
            "الذكاء الاصطناعي",
            "البيانات الضخمة",
            "الحوسبة السحابية",
            "التطوير الاحترافي",
            "التسويق الرقمي",
            "ريادة الأعمال",
            "التوظيف والمهنية",
            "الخاتمة والتطوير المستمر"
        ];

        // عناصر DOM
        const chaptersList = document.getElementById('chaptersList');
        const userProfile = document.getElementById('userProfile');
        const userName = document.getElementById('userName');
        const userAvatar = document.getElementById('userAvatar');
        const hamburger = document.getElementById('hamburger');
        const progressFill = document.getElementById('progressFill');
        const overallProgress = document.getElementById('overallProgress');
        const completedChapters = document.getElementById('completedChapters');
        const progressPercent = document.getElementById('progressPercent');
        const totalChapters = document.getElementById('totalChapters');
        const activeDays = document.getElementById('activeDays');
        const loadingState = document.getElementById('loadingState');

        // دالة لاستخراج الأحرف الأولى من الاسم
        function getInitials(name) {
            if (!name || name === 'مستخدم QUREO') return 'QU';
            return name.split(' ').map(word => word[0] || '').join('').toUpperCase().substring(0, 2);
        }

        // دالة لإنشاء بطاقة شابتر
        function createChapterCard(chapterNum, title) {
            const card = document.createElement('div');
            card.className = 'chapter-card';
            card.setAttribute('role', 'button');
            card.setAttribute('tabindex', '0');
            card.setAttribute('aria-label', `الشابتر ${chapterNum}: ${title}`);
            
            // حالة عشوائية للعرض
            let status, statusText, statusIcon, statusColor;
            
            if (chapterNum <= 28) {
                status = 'completed';
                statusText = 'مكتمل';
                statusIcon = 'check-circle';
                statusColor = '#00c853';
            } else if (chapterNum <= 36) {
                status = 'in-progress';
                statusText = 'جاري التعلم';
                statusIcon = 'spinner';
                statusColor = '#ff9800';
            } else {
                status = 'pending';
                statusText = 'قادم';
                statusIcon = 'clock';
                statusColor = '#9e9e9e';
            }
            
            // دروس عشوائية
            const lessons = Math.floor(Math.random() * 5) + 2;
            const hours = Math.floor(Math.random() * 3) + 1;
            
            card.innerHTML = `
                <div class="chapter-number">${chapterNum}</div>
                <div class="chapter-content">
                    <div class="chapter-title">${title}</div>
                    <div class="chapter-meta">
                        <i class="fas fa-book"></i>
                        <span>${lessons} دروس</span>
                        <i class="fas fa-clock" style="margin-right: 8px;"></i>
                        <span>${hours} ساعة</span>
                    </div>
                </div>
                <div class="chapter-badge" style="background: ${statusColor}">
                    <i class="fas fa-${statusIcon}"></i>
                    ${statusText}
                </div>
                <div class="chapter-arrow">
                    <i class="fas fa-chevron-left"></i>
                </div>
            `;
            
            // إضافة حدث النقر
            card.addEventListener('click', () => {
                card.style.transform = 'scale(0.98)';
                setTimeout(() => {
                    card.style.transform = '';
                    window.location.href = `chapter${chapterNum}/index.html`;
                }, 150);
            });
            
            // إضافة حدث للزر Enter
            card.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    card.click();
                }
            });
            
            return card;
        }

        // دالة لعرض الشابترات
        function displayChapters() {
            loadingState.style.display = 'block';
            chaptersList.innerHTML = '';
            
            setTimeout(() => {
                chaptersData.forEach((title, index) => {
                    const chapterNum = index + 1;
                    const chapterCard = createChapterCard(chapterNum, title);
                    
                    // تأثير ظهور تدريجي
                    chapterCard.style.animation = 'fadeIn 0.4s ease-out';
                    chapterCard.style.animationDelay = `${index * 30}ms`;
                    chapterCard.style.opacity = '0';
                    
                    chaptersList.appendChild(chapterCard);
                    
                    // تطبيق التأثير بعد إضافة العنصر
                    setTimeout(() => {
                        chapterCard.style.opacity = '1';
                    }, 10);
                });
                
                loadingState.style.display = 'none';
            }, 800); // محاكاة وقت التحميل
        }

        // دالة لتحديث التقدم
        function updateProgress() {
            const completed = 28;
            const total = chaptersData.length;
            const progress = Math.round((completed / total) * 100);
            
            // تحديث مع تأثير تدريجي
            setTimeout(() => {
                progressFill.style.width = `${progress}%`;
                overallProgress.textContent = `${progress}%`;
                completedChapters.textContent = completed;
                progressPercent.textContent = `${progress}%`;
                totalChapters.textContent = total;
                activeDays.textContent = Math.floor(Math.random() * 30) + 1;
            }, 500);
        }

        // مراقبة حالة المصادقة
        onAuthStateChanged(auth, (user) => {
            if (!user) {
                window.location.href = "../../index.html";
                return;
            }

            // عرض بيانات المستخدم
            const displayName = user.displayName || "مستخدم QUREO";
            const email = user.email || "لا يوجد بريد إلكتروني";
            
            userName.textContent = displayName;
            
            // إنشاء الأحرف الأولى للأفاتار
            const initials = getInitials(displayName);
            userAvatar.innerHTML = initials;
            
            // ألوان متنوعة للأفاتار
            const colors = [
                'linear-gradient(135deg, #5e35b1, #4527a0)',
                'linear-gradient(135deg, #ff4081, #ff79b0)',
                'linear-gradient(135deg, #00c853, #64dd17)',
                'linear-gradient(135deg, #ff9800, #ffb74d)',
                'linear-gradient(135deg, #2196f3, #1976d2)'
            ];
            userAvatar.style.background = colors[Math.floor(Math.random() * colors.length)];
            
            // تحديث البريد الإلكتروني
            setTimeout(() => {
                const emailElement = document.createElement('div');
                emailElement.className = 'user-email';
                emailElement.style.cssText = 'margin-top: 8px; font-size: 13px; color: #718096;';
                emailElement.innerHTML = `<i class="fas fa-envelope"></i> ${email}`;
                userProfile.appendChild(emailElement);
            }, 1000);
        });

        // إضافة تفاعل لقائمة الهامبرجر
        hamburger.addEventListener('click', () => {
            hamburger.style.transform = 'scale(0.9)';
            setTimeout(() => {
                hamburger.style.transform = '';
                alert('قائمة الإعدادات ستظهر هنا في النسخة الكاملة');
            }, 150);
        });

        // إضافة تفاعل لقائمة التنقل السفلية
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                
                document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                this.classList.add('active');
                
                // تأثير النقر
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = '';
                    
                    // محاكاة التنقل
                    const page = this.querySelector('span').textContent;
                    if (page === 'التقدم') {
                        alert('سيتم الانتقال إلى صفحة التقدم');
                    } else if (page === 'حسابي') {
                        alert('سيتم الانتقال إلى صفحة الحساب');
                    }
                }, 150);
            });
        });

        // تهيئة الصفحة
        displayChapters();
        updateProgress();

        // تحسينات للأجهزة التي تدعم اللمس
        if ('ontouchstart' in window) {
            document.body.classList.add('touch-device');
            
            // تحسين تجربة اللمس
            document.querySelectorAll('.chapter-card, .stat-card, .nav-item').forEach(el => {
                el.style.cursor = 'pointer';
            });
        }

        // تحميل أولي سريع
        window.addEventListener('load', () => {
            document.body.style.opacity = '0';
            setTimeout(() => {
                document.body.style.transition = 'opacity 0.3s';
                document.body.style.opacity = '1';
            }, 100);
        });
    </script>
</body>
</html>
